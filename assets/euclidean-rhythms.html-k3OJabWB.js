import"./modulepreload-polyfill-B5Qt9EMX.js";import{b as c}from"./javascript-audio-BtH4Kswm.js";const I=(t,e)=>{var i;let n=Array(e).fill(0).map((s,m)=>m<t?[1]:[0]),o=e-t;e=Math.max(t,o),t=Math.min(t,o);let a=o;for(;a>0||t>1;){for(let s=0;s<t;s++)(i=n[s])==null||i.push(...n[n.length-1-s]??[]);n=n.slice(0,n.length-t),a=a-t,o=e-t,e=Math.max(t,o),t=Math.min(t,o)}return n.flat()},E=I(3,8),w=I(7,8),M={k:3,n:4,p:0},x=({k:t,n:e,p:n})=>(n=n+1,n===e&&(n=0,t=t+1,t===e&&(t=e<5?1:3,e=e+1,e===13&&(e=4))),{k:t,n:e,p:n}),b=document.querySelector("button.demo-1"),l={i:0,intervalId:void 0};b.addEventListener("click",()=>{l.intervalId?l.intervalId=(clearInterval(l.intervalId),void 0):l.intervalId=setInterval(()=>{l.i=(l.i+1)%E.length,A()},1e3/7),A()});const A=()=>{const{intervalId:t,i:e}=l,n=document.querySelectorAll(".demo-1 > div");for(const[o,a]of E.entries()){const i=t&&a&&e==o;i&&c(.01),n[o].setAttribute("data-state",i?"on":"off")}t?b.classList.add("playing"):b.classList.remove("playing")};A();const g=document.querySelector("button.demo-2"),v={state:{...M},intervalId:void 0};g.addEventListener("click",()=>{v.intervalId?v.intervalId=(clearInterval(v.intervalId),void 0):v.intervalId=setInterval(()=>{v.state=x(v.state),L()},1e3/7),L()});const L=()=>{const{intervalId:t,state:e}=v,n=document.querySelectorAll(".demo-2 > div"),{k:o,n:a,p:i}=e;for(const s of n)s.removeAttribute("data-state");for(const[s,m]of I(o,a).entries()){const y=t&&m&&i==s;y&&c(.01),n[s].setAttribute("data-state",y?"on":"off")}t?g.classList.add("playing"):g.classList.remove("playing")};L();const C=I(9,15),z=I(4,15),q=document.querySelector("button.demo-3"),f={p:0,intervalId:void 0};q.addEventListener("click",()=>{f.intervalId?f.intervalId=(clearInterval(f.intervalId),void 0):f.intervalId=setInterval(()=>{f.p=(f.p+1)%C.length,S()},1e3/7),S()});const S=()=>{const{intervalId:t,p:e}=f,n=document.querySelectorAll(".demo-3 > div");for(const[o,a]of C.entries()){const i=t&&a&&e==o,s=i&&z[o];i&&(s?c(.02,.01,.1):c(.08,.001,.1)),n[o].setAttribute("data-state",i?s?"accent":"on":"off")}t?q.classList.add("playing"):q.classList.remove("playing")};S();const h=document.querySelector("button.demo-4"),u={state:{...M},intervalId:void 0};h.addEventListener("click",()=>{u.intervalId?u.intervalId=(clearInterval(u.intervalId),void 0):u.intervalId=setInterval(()=>{u.state=x(u.state),j()},1e3/7),j()});const j=()=>{const{intervalId:t,state:e}=u,{k:n,n:o,p:a}=e,i=a%8,s=document.querySelectorAll(".demo-4a > div");for(const[d,p]of E.entries()){const r=t&&p&&i==d;r&&c(.01,.001,.1,660),s[d].setAttribute("data-state",r?"on":"off")}const m=document.querySelectorAll(".demo-4b > div");for(const d of m)d.removeAttribute("data-state");for(const[d,p]of I(n,o).entries()){const r=t&&p&&a==d;r&&(c(.01),c(.005,.001,.02,660)),m[d].setAttribute("data-state",r?"on":"off")}const y=document.querySelectorAll(".demo-4c > div");for(const[d,p]of w.entries()){const r=t&&p&&i==d;r&&c(.1,.001,.1,110,.05),y[d].setAttribute("data-state",r?"on":"off")}t?h.classList.add("playing"):h.classList.remove("playing")};j();
